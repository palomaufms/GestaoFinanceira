<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SGFF â€” GestÃ£o Financeira Familiar</title>
  <style>
    :root { --bg:#0b1020; --card:#121a33; --muted:#9aa3b2; --text:#e8ebf1; --accent:#4f8cff; --danger:#ff6b6b; --ok:#22c55e; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;background:linear-gradient(180deg,#0b1020,#0b1120 40%,#0f172a);color:var(--text)}
    header,main,section,footer{display:block}
    header{padding:16px 20px;border-bottom:1px solid #1f2937;background:#0b1120;position:sticky;top:0;z-index:10}
    .container{max-width:1080px;margin:auto;padding:16px}
    .title{font-weight:800;font-size:clamp(20px,3vw,28px);letter-spacing:.3px}
    .subtitle{color:var(--muted);font-size:14px;margin-top:4px}
    .grid{display:grid;gap:12px}
    @media(min-width:768px){.grid-3{grid-template-columns:repeat(3,1fr)}.grid-2{grid-template-columns:repeat(2,1fr)}}
    .card{background:var(--card);border:1px solid #1f2937;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .card h2{font-size:16px;margin:0 0 8px}
    .card .p{padding:16px}
    .stat{display:flex;align-items:center;gap:10px}
    .stat .value{font-size:22px;font-weight:700}
    .stat .label{color:var(--muted);font-size:12px}
    .badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:12px}
    .badge.ok{background:rgba(34,197,94,.15);color:var(--ok)}
    .badge.warn{background:rgba(255,107,107,.15);color:var(--danger)}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    .row>.grow{flex:1 1 auto}
    input,select,button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #374151;background:#0b1224;color:var(--text)}
    input::placeholder{color:#6b7280}
    label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
    button{background:linear-gradient(180deg,#4f8cff,#376fd8);border:0;font-weight:700;cursor:pointer}
    button.secondary{background:#0b1224;border:1px solid #24324a}
    table{width:100%;border-collapse:separate;border-spacing:0}
    thead th{font-size:12px;text-align:left;color:var(--muted);padding:10px 12px;border-bottom:1px solid #24324a}
    tbody td{padding:12px;border-bottom:1px solid #1d2842}
    tbody tr:last-child td{border-bottom:0}
    .money-pos{color:var(--ok);font-weight:700}
    .money-neg{color:var(--danger);font-weight:700}
  </style>
</head>
<body>
  <header role="banner" aria-label="CabeÃ§alho">
    <div class="container">
      <div class="title">SGFF â€” GestÃ£o Financeira Familiar</div>
      <div class="subtitle">Controle de receitas, despesas e contas com orÃ§amento mensal</div>
    </div>
  </header>

  <main class="container" id="app" aria-live="polite">
    <section class="grid grid-3" aria-label="Indicadores">
      <div class="card p stat" aria-labelledby="lbl-receitas">
        <div>
          <div id="lbl-receitas" class="label">Receitas</div>
          <div id="stat-income" class="value">R$ 0,00</div>
        </div>
      </div>
      <div class="card p stat" aria-labelledby="lbl-despesas">
        <div>
          <div id="lbl-despesas" class="label">Despesas</div>
          <div id="stat-expense" class="value">R$ 0,00</div>
        </div>
      </div>
      <div class="card p stat" aria-labelledby="lbl-saldo">
        <div>
          <div id="lbl-saldo" class="label">Saldo</div>
          <div id="stat-balance" class="value">R$ 0,00</div>
        </div>
      </div>
    </section>

    <section class="grid grid-2" style="margin-top:16px" aria-label="Cadastro e OrÃ§amentos">
      <div class="card p">
        <h2>Nova TransaÃ§Ã£o</h2>
        <form id="tx-form">
          <div class="row">
            <div class="grow">
              <label for="tx-date">Data</label>
              <input id="tx-date" type="date" required />
            </div>
            <div>
              <label for="tx-type">Tipo</label>
              <select id="tx-type" required>
                <option value="income">ðŸ’° Receita</option>
                <option value="expense">ðŸ’¸ Despesa</option>
                <option value="bill">ðŸ§¾ Conta</option>
              </select>
            </div>
            <div>
              <label for="tx-status">Status</label>
              <select id="tx-status">
                <option value="paid">Pago</option>
                <option value="unpaid">Em aberto</option>
              </select>
            </div>
          </div>
          <div class="row" style="margin-top:10px">
            <div class="grow">
              <label for="tx-cat">Categoria</label>
              <select id="tx-cat" required></select>
            </div>
            <div class="grow">
              <label for="tx-desc">DescriÃ§Ã£o</label>
              <input id="tx-desc" maxlength="80" placeholder="Ex.: Supermercado" required />
            </div>
            <div style="width:180px">
              <label for="tx-amount">Valor</label>
              <input id="tx-amount" type="number" step="0.01" min="0" required />
            </div>
          </div>
          <div class="row" style="margin-top:12px">
            <button type="submit">Salvar</button>
            <button type="reset" class="secondary">Limpar</button>
          </div>
          <p id="toast" class="sr-only" aria-live="polite"></p>
        </form>
      </div>
    </section>

    <section class="card p" style="margin-top:16px" aria-label="TransaÃ§Ãµes">
      <div class="row" style="align-items:center;justify-content:space-between;margin-bottom:6px">
        <h2>TransaÃ§Ãµes</h2>
      </div>
      <div style="overflow:auto">
        <table role="table" aria-label="Lista de transaÃ§Ãµes">
          <thead>
            <tr>
              <th>Data</th>
              <th>Tipo</th>
              <th>Categoria</th>
              <th>DescriÃ§Ã£o</th>
              <th style="text-align:right">Valor</th>
              <th style="text-align:center">Status</th>
              <th style="text-align:right">AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="tx-body"></tbody>
        </table>
      </div>
    </section>
  </main>

  <script>
  document.addEventListener('DOMContentLoaded',()=>{
  const state = {
    categories: [
      {id:'1', name:'SalÃ¡rio', type:'income'},
      {id:'2', name:'AlimentaÃ§Ã£o', type:'expense'},
      {id:'3', name:'Transporte', type:'expense'},
      {id:'4', name:'Contas Fixas', type:'bill'},
    ],
    transactions: []
  };

  function BRL(v){return Number(v||0).toLocaleString('pt-BR',{style:'currency',currency:'BRL'})}

  function renderCategories(){
    const txCat=document.querySelector('#tx-cat');
    txCat.innerHTML=state.categories.map(c=>`<option value="${c.id}">${c.name}</option>`).join('');
  }

  function updateStats(){
    const income = state.transactions
      .filter(t=>t.type==='income')
      .reduce((s,t)=>s+(t.amount||0),0);
    const expense = state.transactions
      .filter(t=>t.type==='expense' || t.type==='bill')
      .reduce((s,t)=>s+(t.amount||0),0);
    const balance = income - expense;

    document.querySelector('#stat-income').textContent = BRL(income);
    document.querySelector('#stat-expense').textContent = BRL(expense);
    document.querySelector('#stat-balance').textContent = BRL(balance);
  }

  function renderTransactions(){
    const tbody=document.querySelector('#tx-body');
    tbody.innerHTML=state.transactions.map(t=>{
      const cat=state.categories.find(c=>c.id===t.categoryId)?.name||'-';
      const cls=t.type==='income'?'money-pos':t.type==='expense'?'money-neg':'';
      const tipoTraduzido=t.type==='income'?'ðŸ’° Receita':t.type==='expense'?'ðŸ’¸ Despesa':'ðŸ§¾ Conta';
      return `<tr>
        <td>${t.date}</td>
        <td><span class="${cls}">${tipoTraduzido}</span></td>
        <td>${cat}</td>
        <td>${t.description||''}</td>
        <td style="text-align:right" class="${cls}">${BRL(t.amount)}</td>
        <td style="text-align:center"><span class="badge ${t.status==='paid'?'ok':'warn'}">${t.status==='paid'?'Pago':'Em aberto'}</span></td>
        <td style="text-align:right"><button class="secondary" data-del="${t.id}">Excluir</button></td>
      </tr>`;
    }).join('');

    // Evento de exclusÃ£o
    tbody.querySelectorAll('[data-del]').forEach(btn => {
      btn.addEventListener('click', e => {
        const id = e.currentTarget.getAttribute('data-del');
        state.transactions = state.transactions.filter(x => x.id !== id);
        renderTransactions();
        updateStats();
      });
    });

    updateStats();
  }

  document.querySelector('#tx-form').addEventListener('submit',e=>{
    e.preventDefault();
    const t={
      id:Date.now().toString(),
      date:document.querySelector('#tx-date').value,
      type:document.querySelector('#tx-type').value,
      status:document.querySelector('#tx-status').value,
      categoryId:document.querySelector('#tx-cat').value,
      description:document.querySelector('#tx-desc').value,
      amount:parseFloat(document.querySelector('#tx-amount').value)
    };
    state.transactions.push(t);
    renderTransactions();
    e.target.reset();
  });

  renderCategories();
  updateStats();
});

  </script>
</body>
</html>
